# =============================================================================
# Logging Configuration
# =============================================================================
# Available options:
#   level           - Log level (string: DEBUG|INFO|WARNING|ERROR|CRITICAL)
#   format          - Output format (string: json|console)
#   handlers        - Log output handlers (object)
#     console       - Console output settings (object)
#       enabled     - Enable console output (boolean)
#     file          - File output settings (object)
#       enabled     - Enable JSONL file output (boolean)
#       path        - Log file path relative to project root (string)
#       max_bytes   - Max file size before rotation (integer)
#       backup_count - Number of rotated backup files to keep (integer)
#
# Structured fields in every JSON log record:
#   timestamp       - ISO 8601 UTC timestamp (automatic)
#   level           - Log level (automatic)
#   logger          - Module path, e.g. modules.backend.api.health (automatic)
#   event           - Log message (automatic)
#   func_name       - Function that emitted the log (automatic)
#   lineno          - Line number in source file (automatic)
#   source          - Origin context, set explicitly by caller (optional)
#                     Valid values: web, cli, tui, mobile, telegram, api, tasks, internal
#   request_id      - Request correlation ID, set by middleware (in HTTP context)
#
# All records go to a single JSONL file. Filter by 'source' field to isolate
# logs from a specific origin (e.g. jq 'select(.source == "telegram")').
# =============================================================================

level: "INFO"
format: "json"

handlers:
  console:
    enabled: true
  file:
    enabled: true
    path: "logs/system.jsonl"
    max_bytes: 10485760
    backup_count: 5
