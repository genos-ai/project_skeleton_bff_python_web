{"id":"004.1","severity":"error","description":"No timezone-aware datetime usage in application code","scope":"modules/**/*.py","check":"rg \"(pytz\\.|timezone\\.utc|astimezone|localize\\()\" modules/ --glob \"*.py\" | rg -v \"(test_|replace\\(tzinfo=None\\))\"","expect":"zero_results","fix":"Use timezone-naive datetimes representing UTC. Strip tzinfo on receipt from external sources."}
{"id":"004.2","severity":"error","description":"Database columns use TIMESTAMP not TIMESTAMPTZ","scope":"scripts/database/migrations/*.sql","check":"rg \"TIMESTAMPTZ\" scripts/database/migrations/ --glob \"*.sql\"","expect":"zero_results","fix":"Use TIMESTAMP (without time zone). All values are UTC by convention."}
{"id":"004.3","severity":"error","description":"Bar model validates timezone-naive timestamps","scope":"modules/data/models/bar.py","check":"rg \"tzinfo is not None\" modules/data/models/bar.py","expect":"at_least_one","fix":"Bar.__post_init__ must raise ValueError if timestamp.tzinfo is not None"}
{"id":"004.4","severity":"error","description":"DataRequest validates timezone-naive datetimes","scope":"modules/data/models/request.py","check":"rg \"validate_timezone_naive|tzinfo is not None\" modules/data/models/request.py","expect":"at_least_one","fix":"DataRequest must have a field_validator that rejects timezone-aware datetimes"}
